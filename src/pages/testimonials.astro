---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const testimonials = await getCollection('testimonials');
---
<Layout title="Testimonials - LrGeniusAI">
  <h1 class="page-title">Testimonials â€“ What Our Users Say</h1>

  <div class="testimonials-grid">
    {testimonials.map(item => (
      <div class="testimonial-card">
        <h3>{item.data.title}</h3>
        {item.data.type === 'video' && (
          <div class="video-container">
            <iframe
              src={item.data.url}
              title={item.data.title}
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen
            ></iframe>
          </div>
        )}
        {item.data.type === 'blog' && (
          <p>
            Read the article by <a href={item.data.url} target="_blank" rel="noopener noreferrer">{item.data.author}</a>
          </p>
        )}
        {item.data.type === 'social' && (
          <p>
            From <a href={item.data.url} target="_blank" rel="noopener noreferrer">{item.data.author}</a>
          </p>
        )}
      </div>
    ))}
  </div>
</Layout>

<style>
 .testimonials-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
  }
 .testimonial-card {
    border: 1px solid #eaeaea;
    border-radius: 8px;
    padding: 1.5rem;
  }
 .video-container {
    position: relative;
    padding-bottom: 56.25%; /* 16:9 aspect ratio */
    height: 0;
    overflow: hidden;
    max-width: 100%;
    background: #000;
  }
 .video-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
</style>


